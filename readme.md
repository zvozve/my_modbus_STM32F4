# 简介

本项目构建了裸机下的Modbus_RTU主从机（用户根据需要修改宏定义选择）
支持STM32F4/G4，其他芯片未测试

|     | 主机                   | 从机                         |
| --- | -------------------- | -------------------------- |
| 串口  | 中断DMA收发              | 中断DMA收发                    |
| 定时器 | 主从机通用轮询              | 主从机通用轮询                    |
| 逻辑  | DMA发送，开始计时等待接收，超时后舍弃 | DMA接收，解析处理后发送，支持不同功能码的回调处理 |

# 硬件初始化

- 配置串口：串口号，速率（115200,8,1,0），中断（取消生成NVIC中断函数），DMA（TX/RX, bit）
- 配置定时器：分频1MHz，周期100us，中断（取消生成NVIC中断函数）
- 配置IO：RS485使能信号

# 软件配置修改

1. 选择主机或从机
2. 设定对应端口号，定时器，是否使用485_EN

# 版本

V4.0 (2025-05-01)
